%META:TOPICINFO{author="ProjectContributor" comment="reprev" date="1254229784" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="WebHome"}%
---+ Wiki Groups
This is a list of all known groups that can be used to define [[%SYSTEMWEB%.AccessControl][AccessControl]] in <nop>%WIKITOOLNAME%.


%TWISTY{
  link=" %MAKETEXT{"Create a new group"}%"
  showimgleft="%ICONURLPATH{"persons"}%"
  hideimgleft="%ICONURLPATH{"persons"}%"
  mode="div"
}%

<form action="%SCRIPTURLPATH{"manage"}%/%WEB%/%TOPIC%" method="POST">
<input type="hidden" name="action" value="addUserToGroup"/>
<input type="hidden" name="create" value="1"/>
<div class="foswikiFormSteps">
  <div class="foswikiFormStep ">
    <h3>%MAKETEXT{"Name"}%:</h3>
    <input type="text" name="groupname" size="30" class="foswikiInputField"/> 
    <div class="foswikiFormDescription">
      *Note:* 
      A group topic name must be a [[%SYSTEMWEB%.WikiWord][WikiWord]] and *must* end in =...Group=. 
      New topics are based on [[GroupTemplate]]
    </div>
  </div>
  <div class="foswikiFormStep">
    <h3>%MAKETEXT{"Members"}%:</h3>
    <input type="text" name="username" value="" size="60" class="foswikiInputField" />
    <div class="foswikiFormDescription">Comma separated list</div>
  </div>
  <div class="foswikiFormStep">
    <input class="foswikiSubmit" type="submit" value="%MAKETEXT{"Submit"}%"/>
  </div>
  <div class="foswikiFormStep foswikiFormLast">
---
    <div class="foswikiFormDescription">
*IMPORTANT NOTE:* Think twice before restricting write access to a web or a topic, because an open system where everybody can contribute is the essence of [[%SYSTEMWEB%.WikiCulture][WikiCulture]]. Experience shows that unrestricted write access works very well because:
   * There is enough peer pressure to post only appropriate content.
   * Content does not get lost because topics are under revision control.
   * A topic revision can be undone by a member of the [[%USERSWEB%.AdminGroup][AdminGroup]] if necesssary.

*Related topics:* [[%SYSTEMWEB%.AccessControl][AccessControl]], [[%WEBPREFSTOPIC%]], [[%WIKIUSERSTOPIC%]], [[%SYSTEMWEB%.WikiCulture][WikiCulture]]
    </div>
  </div>
</div>
</form>
%ENDTWISTY%

%GROUPINFO{
   header="<table class='foswikiTable' style='width:99%'>
             <tr>
               <th>%MAKETEXT{"Group"}%</th>
               <th>%MAKETEXT{"Members"}%</th>
               <th style='width:20em'>%MAKETEXT{"Actions"}%</th>
             </tr>$n" 
   format="<tr>
     <td> $percntIF{\"not istopic '$name'\" then=\"<nop>\"}$percnt$name </td>
     <td> $percntINCLUDE{
                  \"%WEB%.%TOPIC%\" 
                  section=\"groupmembers\" 
                  GROUPNAME=\"$name\"
              }$percnt
     </td>
     <td>
       $percntINCLUDE{\"%WEB%.%TOPIC%\"
         section=\"editgroup\"
         GROUPNAME=\"$name\"
       }$percnt
     </td>
   </tr>"
   footer="</table>"
   separator="$n"
}%


<style>
.foswikiRemoveSubmit {
background: url(%ICONURL{person}%) no-repeat;
color:red; 
font: bold 110% 'trebuchet ms',helvetica,sans-serif; 
background-color: transperant; 
border:0; 
}
.foswikiRemoveSubmit :hover {
   border:2px;
}
</style>
<verbatim style="display:none">
%STARTSECTION{"editgroup"}%<!-- editgroup -->
%TWISTY{
  link=" %MAKETEXT{"Add user"}%"
  showimgleft="%ICONURLPATH{"person"}%"
  hideimgleft="%ICONURLPATH{"person"}%"
  mode="div"
}% 

<form action="%SCRIPTURLPATH{"manage"}%/%WEB%/%TOPIC%" method="POST"> 
<input type="text" name="username" value="" size="20" class="foswikiInputField" /> 
<input class="foswikiSubmit" type="submit" value="%MAKETEXT{"Submit"}%" /> 
<input type="hidden" name="groupname" value="%GROUPNAME%"/> 
<input type="hidden" name="action" value="addUserToGroup"/>\
</form>

%ENDTWISTY%
<!-- //editgroup -->%ENDSECTION{"editgroup"}%

%STARTSECTION{"onemember"}%<!-- onemember -->
%IF{"not istopic '%WIKINAME%'"
                    then="<nop>"
                  }%%WIKINAME%
<form action="%SCRIPTURLPATH{"manage"}%/%WEB%/%TOPIC%" method="POST"> \
<input type="hidden" name="username" value="%WIKINAME%" /> \
<input class="foswikiRemoveSubmit" type="image" src="%ICONURL{userinactive}%"  value="-" title="remove" /> \
<input type="hidden" name="groupname" value="%GROUPNAME%"/> \
<input type="hidden" name="action" value="removeUserFromGroup"/> \
</form>
<!-- onemember -->%ENDSECTION{"onemember"}%

%STARTSECTION{"groupmembers"}%<!-- groupmembers -->
%GROUPINFO{
   "%GROUPNAME%" 
   format="$percntINCLUDE{
          \"%WEB%.%TOPIC%\" 
          section=\"onemember\" 
          WIKINAME=\"$wikiname\" 
          GROUPNAME=\"%GROUPNAME%\"
      }$percnt" 
   separator=" "
}%
<!-- groupmembers -->%ENDSECTION{"groupmembers"}%
</verbatim>
